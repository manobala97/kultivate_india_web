jQuery(document).ready(function(l){"use strict";var t,e=l("body");l(".add_to_wishlist").on("click",function(){l(this).addClass("loading")}),l(document).on("insightGridBeforeInit",function(i,a){if(!a.hasClass("tm-product"))return!1;var n=a.find(".tm-grid-query").first();a.find(".price_slider").on("slidechange",function(i,t){var e=jQuery.parseJSON(n.val());e.minPrice=t.values[0],e.maxPrice=t.values[1],n.val(JSON.stringify(e)),l(document).trigger("insightGridInfinityLoad",a)}),a.find(".tm-grid-ajax-field").on("change",function(){var i=jQuery.parseJSON(n.val()),t=l(this).val();if(l(this).hasClass("product-sorting")){var e=t.split(":");switch(e[0]){case"popularity":i.meta_key="total_sales",i.orderby="meta_value_num",i.order="desc";break;case"rating":i.meta_key="_wc_average_rating",i.orderby="meta_value_num",i.order="desc";break;case"price":i.meta_key="_price",i.orderby="meta_value_num",i.order=e[1];break;case"date":i.meta_key="",i.orderby="date",i.order=e[1]}}n.val(JSON.stringify(i)),l(document).trigger("insightGridInfinityLoad",a)})}),l(document).on("insightGridInit",function(i,t,e){t.hasClass("equal-thumbnail-height")&&e.find(".product-thumbnail").matchHeight()}),l(document).on("insightSwiperInit",function(i,t,e){e.hasClass("equal-thumbnail-height")&&e.find(".product-thumbnail").matchHeight()}),l(document).on("insightGridUpdate",function(i,t,e,a){t.hasClass("tm-product")&&t.hasClass("style-grid")&&(a.find(".product-thumbnail").matchHeight(),void 0!==isw.Swatches&&isw.Swatches.init())}),(t=l("#mini-cart")).on("click",function(){SmartPhone.isAny()?window.location.href=l(this).data("url"):l(this).addClass("open")}),l(document).on("click",function(i){0==l(i.target).closest(t).length&&t.removeClass("open")}),function(){if(!e.hasClass("single-product"))return;var i=l(".isw-swatches--in-single"),c=i.data("product_variations");i.find("select").on("change",function(){for(var i=l(this).data("attribute_name"),t=l(this).val(),e=c.length-1;0<=e;e--){var a=c[e].attributes;for(var n in a)if(a.hasOwnProperty(n)&&n==i&&a[n]==t){var o=c[e].image.url,s=l(".woo-single-images .tm-swiper"),r=s.children(".swiper-container")[0].swiper;s.find("a").each(function(){var i=l(this).data("src");if(i==o){var t=l(this).parents(".swiper-slide").first(),e=t.index();return r.slideTo(e),!0}});break}}})}(),e.on("click",".yith-compare-btn .compare",function(){l(this).addClass("loading")}),e.on("yith_woocompare_open_popup",function(){l(".yith-compare-btn .compare").removeClass("loading"),e.addClass("compare-popup-opened")}),e.on("click","#cboxClose, #cboxOverlay",function(){e.removeClass("compare-popup-opened")}),l(".quickview-btn").each(function(){var i=l(this).siblings(".woo-quick-view-popup");l(this).magnificPopup({items:{src:i.html(),type:"inline"},callbacks:{open:function(){"undefined"!=typeof isw&&void 0!==isw.Swatches&&isw.Swatches.init(),l(".woo-quick-view-popup-content .tm-swiper").insightSwiper(),l(".woo-quick-view-popup-content .entry-summary").slimScroll({height:"600px",size:"5px",borderRadius:0,distance:0})}}})}),l(document).on("click",".increase, .decrease",function(){var i=l(this).siblings(".qty"),t=parseFloat(i.val()),e=parseFloat(i.attr("max")),a=parseFloat(i.attr("min")),n=i.attr("step");t&&""!==t&&"NaN"!==t||(t=0),""!==e&&"NaN"!==e||(e=""),""!==a&&"NaN"!==a||(a=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),l(this).is(".increase")?e&&(e==t||e<t)?i.val(e):i.val(t+parseFloat(n)):a&&(a==t||t<a)?i.val(a):0<t&&i.val(t-parseFloat(n)),i.trigger("change")}),l(".switcher-item").on("click",function(){if(!l(this).hasClass("active")){var i={action:"shop_layout_change"};l(this).hasClass("list")?i.shop_layout="list":i.shop_layout="grid",i=l.param(i),l.ajax({url:$insight.ajaxurl,type:"POST",data:i,dataType:"json",success:function(i){location.reload()},error:function(i){alert(i)}})}}),1==$insight.noticeCookieEnable&&"no"===$insight.noticeCookieConfirm&&""!=$insight.noticeCookieMessages&&(l.growl({location:"br",fixed:!0,duration:36e5,title:"",message:$insight.noticeCookieMessages}),l("#tm-button-cookie-notice-ok").on("click",function(){l(this).parents(".growl-message").first().siblings(".growl-close").trigger("click");var i={action:"notice_cookie_confirm"};i=l.param(i),l.ajax({url:$insight.ajaxurl,type:"POST",data:i,dataType:"json",success:function(i){l.growl.notice({location:"br",duration:5e3,title:"",message:$insight.noticeCookieOKMessages})},error:function(i){alert(i)}})}))});